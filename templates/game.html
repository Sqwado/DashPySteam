<!DOCTYPE html>
<html lang="fr">

<head>
    <title>{{data['Name']}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<style>
    /* width */
    ::-webkit-scrollbar {
        width: 10px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: #1B2838;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: #171D25;
        border-radius: 8px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: #555;
    }
</style>

<body class="w-screen h-screen bg-[#1B2838] overflow-x-hidden">
    <header class="w-screen h-1/6 bg-[#171D25] flex">
        <a href="/" class="w-1/6 h-full flex items-center justify-center">
            <img src="{{ url_for('static', filename='images/logo_steam.png') }}" alt="logo steam" class="h-3/6" />
        </a>
        <nav class="w-4/6 h-full flex items-center justify-center">
            <input class="h-2/6 w-2/6 rounded p-2 text-white bg-[#1B2838]" placeholder="Recherchez le nom d'un jeu..."
                type="text" id="search-bar" />
            <button class="h-2/6 rounded bg-[#1B2838] text-white ml-4 p-2 hover:bg-[#171D25]"
                id="search">Rechercher</button>
        </nav>
        <div class="w-1/6 h-full flex items-center justify-center">
            <div class="relative inline-block text-left">
                <label for="sort-select" class="text-white">Trier par :</label>
                <select
                    class=" rounded-md bg-[#171D25] px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent cursor-pointer mr-4"
                    id="sort-select">
                    <option value="alpha-asc">Ordre Alphabétique</option>
                    <option value="alpha-desc">Ordre Anti-Alphabétique</option>
                    <option value="price-asc">Prix Croissant</option>
                    <option value="price-desc">Prix Décroissant</option>
                </select>
            </div>
        </div>

        <a href="/edit">Edit</a>
    </header>

    <main class="w-screen h-5/6 flex ">
        <button class="bg-red-500 p-2 rounded text-white w-32 h-12 absolute right-10 top-40 opacity-20 hover:opacity-100">Delete</button>
        <article class="w-full flex flex-wrap p-2 overflow-y-scroll justify-around">
            <div class="h-2/3 w-full bg-blue-500">
                <img src="{{data['Header image']}}" alt="image jeu" class="h-full w-full object-cover" />
            </div>
            <div class="w-full h-1/3 flex">
                <div class="w-2/3 pl-2 flex items-center">
                    <p class="text-white">{%if data['Name']|length > 40
                        %}{{data['Name'][:40]}}...{%else%}{{data['Name']}}{%endif%}</p>
                </div>
                <div class=" w-1/3 text-right pr-2 flex items-center justify-end">
                    <p class="text-white">{%if data['Price'] == 0 %}Free{%else%}{{data['Price']}}${%endif%}</p>
                </div>
            </div>
            </div>
        </article>
    </main>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {

        let sort = 'alpha-asc';
        let search = '';
        let genre = [];
        let tag = [];
        let platform = [];
        let category = [];

        const sortSelect = document.getElementById('sort-select');

        sortSelect.addEventListener('change', function () {
            console.log(sortSelect.value);
        });

        const searchButton = document.getElementById('search');
        const searchBar = document.getElementById('search-bar');

        searchButton.addEventListener('click', function () {
            console.log('search');
            console.log(searchBar.value);
        });

        const genreTitle = document.getElementById('genre-title');
        const genreContent = document.getElementById('genre-content');
        const genreArrow = document.getElementById('genre-arrow');

        genreTitle.addEventListener('click', function () {
            genreContent.classList.toggle('hidden');
            genreArrow.classList.toggle('rotate-180');
        });

        const tagTitle = document.getElementById('tag-title');
        const tagContent = document.getElementById('tag-content');
        const tagArrow = document.getElementById('tag-arrow');

        tagTitle.addEventListener('click', function () {
            tagContent.classList.toggle('hidden');
            tagArrow.classList.toggle('rotate-180');
        });

        const platformTitle = document.getElementById('platform-title');
        const platformContent = document.getElementById('platform-content');
        const platformArrow = document.getElementById('platform-arrow');

        platformTitle.addEventListener('click', function () {
            platformContent.classList.toggle('hidden');
            platformArrow.classList.toggle('rotate-180');
        });

        const categoryTitle = document.getElementById('category-title');
        const categoryContent = document.getElementById('category-content');
        const categoryArrow = document.getElementById('category-arrow');

        categoryTitle.addEventListener('click', function () {
            categoryContent.classList.toggle('hidden');
            categoryArrow.classList.toggle('rotate-180');
        });

        const genreCheckboxes = document.querySelectorAll('.genre');
        const tagCheckboxes = document.querySelectorAll('.tag');
        const platformCheckboxes = document.querySelectorAll('.platform');
        const categoryCheckboxes = document.querySelectorAll('.category');

        const applyButton = document.getElementById('apply');

        applyButton.addEventListener('click', function () {
            const genreValues = Array.from(genreCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
            const tagValues = Array.from(tagCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
            const platformValues = Array.from(platformCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
            const categoryValues = Array.from(categoryCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);

            console.log(genreValues);
            console.log(tagValues);
            console.log(platformValues);
            console.log(categoryValues);
        });

        const resetButton = document.getElementById('reset');

        resetButton.addEventListener('click', function () {
            genreCheckboxes.forEach(checkbox => checkbox.checked = false);
            tagCheckboxes.forEach(checkbox => checkbox.checked = false);
            platformCheckboxes.forEach(checkbox => checkbox.checked = false);
            categoryCheckboxes.forEach(checkbox => checkbox.checked = false);
        });

    });
</script>

</html>